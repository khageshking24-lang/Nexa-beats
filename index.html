<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexa Music | Fix Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { background: #0f172a; color: white; font-family: sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(15px); border-radius: 30px; border: 1px solid rgba(255,255,255,0.1); }
        #lockScreen { background: #0f172a; display: flex; }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div id="lockScreen" class="fixed inset-0 z-[10000] items-center justify-center flex-col p-6">
        <div class="glass p-10 w-full max-w-sm text-center">
            <h2 class="text-2xl font-black mb-4">NEXA <span class="text-sky-400">LOCK</span></h2>
            <input type="text" id="musicKeyInput" placeholder="Enter Key" class="w-full p-4 rounded-xl bg-white/10 mb-4 outline-none text-center font-bold">
            <button onclick="unlockMusic()" class="w-full bg-sky-600 py-4 rounded-xl font-bold">ACTIVATE</button>
            <p class="mt-4 text-[10px] text-slate-500 uppercase">Test Key: MU-TEST-30SEC</p>
        </div>
    </div>

    <div class="glass p-12 text-center w-full max-w-md">
        <div class="w-32 h-32 bg-sky-500/20 rounded-full mx-auto mb-6 flex items-center justify-center animate-pulse">
            <i class="fas fa-play text-4xl text-sky-400"></i>
        </div>
        <h2 class="text-xl font-bold">Nexa Music Active</h2>
        <p id="timerDisplay" class="text-sky-400 font-mono mt-2 text-sm italic"></p>
    </div>

    <script>
        // VAULT
        const MUSIC_KEYS = {
            "MU-TEST-30SEC": 30000, // Direct 30 Seconds in milliseconds
            "MU-JAN26-XQ92B": 31 * 86400000,
            "Permanentkey63793119": "LIFETIME"
        };

        function unlockMusic() {
            const key = document.getElementById('musicKeyInput').value.trim();
            if(MUSIC_KEYS[key]) {
                const duration = MUSIC_KEYS[key];
                const expiry = (duration === "LIFETIME") ? "PERMANENT" : Date.now() + duration;
                
                localStorage.setItem('mu_expiry', expiry);
                alert("Activated!");
                location.reload();
            } else { alert("Invalid Key!"); }
        }

        function checkAccess() {
            const exp = localStorage.getItem('mu_expiry');
            const screen = document.getElementById('lockScreen');

            if(!exp) {
                screen.style.display = 'flex';
                return;
            }

            if(exp !== "PERMANENT") {
                const timeLeft = parseInt(exp) - Date.now();
                
                if(timeLeft <= 0) {
                    // LOCK TRIGGER
                    localStorage.removeItem('mu_expiry');
                    screen.style.display = 'flex';
                    alert("Time Over! App Locked.");
                } else {
                    screen.style.display = 'none';
                    document.getElementById('timerDisplay').innerText = "Expires in: " + Math.ceil(timeLeft/1000) + "s";
                }
            } else {
                screen.style.display = 'none';
                document.getElementById('timerDisplay').innerText = "ELITE ACCESS: PERMANENT";
            }
        }

        // Fast checking - every 500ms
        setInterval(checkAccess, 500);
        checkAccess();
    </script>
</body>
</html>
